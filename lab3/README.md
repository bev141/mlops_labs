# MLOps. Практическое задание №3.

Подготовлен учебный микросервис который разворачивается с иcпользованием docker и docker compose. Микросервис представляет собой сервер API для классификации ириса. При сборке docker образа запускается автоматический конвейер проекта машинного обучения, который скачивает и предобрабатывает данные, Обучает модель и сохраняет данные для обучения и модель для последующего использования. Сервер API в свою очередь загружает готовую модель и использует ее для классификации.

## Запуска микросервиса

Для разворачивания и запуска микросервиса нужно перейти в папку lab3 и запустить команду
```
docker compose up -d
```
Сервис запускается по адресу http://localhost:8000/

## Использование микросервиса

Чтобы получить класс ириса нужно отправить POST запрос на http://localhost:8000/predict/<br>
В теле запроса должны быть параметры sepal_length, sepal_width, petal_length, petal_width в формате json.<br>
Для удобства тестирования в файле `src/test-api.ipynb` подготовлен jupiter notebook который отправляет POST запрос к API и содержит несколько примеров.

## Dockerhub

Образ был загружен в dockerhub: https://hub.docker.com/r/bev1/mlops-lab3<br>
Сейчас можно запустить образ даже не клонируя репозитарий:
```
docker run -p 8000:8000 bev1/mlops-lab3:0.1
```